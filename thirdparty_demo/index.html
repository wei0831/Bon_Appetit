<!DOCTYPE html>
<html dir="ltr" lang="en-US">

<head>
  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="main.css">
  <link rel="stylesheet" type="text/css" href="icon.css">

  <!-- API display part -->
  <script>
    $(document).ready(function() {

      var url = "http://bon-appetit-wei0831.c9.io/api/v1/";

      $('.menu').html('');
      $('.menu').append("<h1 class=\"menu_title\">All available menus</h1><br>");

      $.get(url + "menus", function(results) {

        console.log(results);

        for (var i = 0; i < results.length; i++) {

          $('.menu').append("<h1 class=\"menu_title grey\">" + results[i].name + "</h1><br>");

          for (var j = 0; j < results[i]._meals.length; j++) {

            var number = j + 1;

            $('.menu').append("<div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8 meal_title\">" + number + ". " + results[i]._meals[j].name + "</div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right meal_title\">" + " $" + results[
                i]._meals[j].price + "</div><div class=\"col-md-12 meal_description\">Ingredients: " + results[i]._meals[j].ingredients[0].name + "</div><div class=\"col-md-12 meal_description\">Meal type: " + results[i]._meals[j].category +
              "<br><hr></div></div>");
          }

        }

      }, "json");

      // BREAKFAST TEST

      $(document).on('click', '#breakfast', function() {
        event.stopPropagation();
        $('.menu').removeClass("columns");
        $.get(url + "menus/q?name=breakfast", function(results) {

          console.log(results);

          $('.menu').html('');

          for (var i = 0; i < results.length; i++) {
            $('.menu').append("<h1 class=\"menu_title\"><span class=\"icon icon-coffe-hot fs3\"></span>" + results[i].name + "</h1><br>");

            for (var j = 0; j < results[i]._meals.length; j++) {

              var number = j + 1;

              $('.menu').append(" <div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8 meal_title\">" + number + ". " + results[i]._meals[j].name + "</div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right meal_title\">" + " $" +
                results[i]._meals[j].price + "</div><div class=\"col-md-12 \">Ingredients: " + results[i]._meals[j].ingredients[0].name + "</div><div class=\"col-md-12 \">Meal type: " + results[i]._meals[j].category +
                "<br><hr></div></div>");
            }

          }

        }, "json");

      });


      // LUNCH TEST

      $(document).on('click', '#lunch', function() {
        $('.menu').removeClass("columns");
        event.stopPropagation();

        $.get(url + "menus/q?name=lunch", function(results) {

          console.log(results);

          $('.menu').html('');

          for (var i = 0; i < results.length; i++) {
            $('.menu').append("<h1 class=\"menu_title\"><span class=\"icon icon-bowl-24 fs3\"></span>" + results[i].name + "</h1><br>");

            for (var j = 0; j < results[i]._meals.length; j++) {

              var number = j + 1;

              $('.menu').append(" <div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8 meal_title\">" + number + ". " + results[i]._meals[j].name + "</div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right meal_title\">" + " $" +
                results[i]._meals[j].price + "</div><div class=\"col-md-12 \">Ingredients: " + results[i]._meals[j].ingredients[0].name + "</div><div class=\"col-md-12 \">Meal type: " + results[i]._meals[j].category +
                "<br><hr></div></div>");
            }

          }

        }, "json");

      });


      // DINNER TEST

      $(document).on('click', '#dinner', function() {
        $('.menu').removeClass("columns");
        event.stopPropagation();

        $.get(url + "menus/q?name=dinner", function(results) {

          console.log(results);

          $('.menu').html('');

          for (var i = 0; i < results.length; i++) {
            $('.menu').append("<h1 class=\"menu_title\"><span class=\"icon icon-cooking-6 fs3\"></span>" + results[i].name + "</h1><br>");

            for (var j = 0; j < results[i]._meals.length; j++) {

              var number = j + 1;

              $('.menu').append(" <div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8 meal_title\">" + number + ". " + results[i]._meals[j].name + "</div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right meal_title\">" + " $" +
                results[i]._meals[j].price + "</div><div class=\"col-md-12 \">Ingredients: " + results[i]._meals[j].ingredients[0].name + "</div><div class=\"col-md-12 \">Meal type: " + results[i]._meals[j].category +
                "<br><hr></div></div>");
            }

          }

        }, "json");

      });

      // MENU WITH IMAGES

      $(document).on('click', '#images', function() {
        $('.menu').removeClass("columns");
        event.stopPropagation();
        $('.menu').html('');
        $('.menu').append("<h1 class=\"menu_title\">List of meals with images</h1><br>");

        $.get(url + "menus", function(results) {

          console.log(results);

          for (var i = 0; i < results.length; i++) {

            $('.menu').append("<h1 class=\"menu_title grey\">" + results[i].name + "</h1><br>");

            for (var j = 0; j < results[i]._meals.length; j++) {

              var number = j + 1;

              $('.menu').append("<div class=\"col-md-12 \"><img id=\"" + results[i]._meals[j]._id + "\" src=\"" + results[i]._meals[j].picture + "\"></div></div><div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8 meal_title\">" +
                number + ". " + results[i]._meals[j].name + "</div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right meal_title\">" + " $" + results[i]._meals[j].price + "</div><div class=\"col-md-12 \">Ingredients: " + results[i]._meals[
                  j].ingredients[0].name + "</div><div class=\"col-md-12 \">Meal type: " + results[i]._meals[j].category + "<br><hr></div></div>");
            }

          }

        }, "json");


      });



      // LIST OF ALL PRODUCTS

      $(document).on('click', '#products', function() {
        // $('.menu').removeClass("columns");
        event.stopPropagation();
        $('.menu').addClass("columns");
        $('.menu').html('');
        $('.menu').append("<h1 class=\"menu_title\"><span class=\"icon icon-cutting-board3 fs3\"></span> Products</h1><br>");

        $.get(url + "ingredients/", function(result) {

          console.log(result)

          for (var count = 0; count < result.length; count++) {

            var number = count + 1;

            $('.menu').append("<div class=\"col-md-12\"><img src=" + result[count].picture + " alt=\"image\"><div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8\">" + number + ". " + result[count].name +
              "</div><div class=\"col-md-12 \">Calories: " + result[count].calorie + "<br><hr></div>");
          }

        }, "json");

      });


      // LIST OF ALL DRINKS

      $(document).on('click', '#drinks', function() {
        $('.menu').removeClass("columns");
        event.stopPropagation();
        $('.menu').html('');
        $('.menu').append("<h1 class=\"menu_title\"><span class=\"icon icon-bottle-7 fs3\"></span> Drinks</h1><br>");

        $.get(url + "meals/q?category=drink", function(result) {

          console.log(result)

          for (var count = 0; count < result.length; count++) {

            var number = count + 1;

            $('.menu').append("<div class=\"col-md-12\"><img id=\"" + result[count]._id + "\" src=" + result[count].picture + " alt=\"image\"><div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8 meal_title\">" + number + ". " +
              result[count].name + "</div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right meal_title\">" + " $" + result[count].price + "<br><hr></div>");
          }

        }, "json");

      });


      // 2 COLUMN MENU TEST

      $(document).on('click', '#columns', function() {
        $('.menu').removeClass("columns");
        event.stopPropagation();


        $.get(url + "menus", function(results) {

          console.log(results);

          $('.menu').html("");
          $('.menu').addClass("columns");
          for (var i = 0; i < results.length; i++) {
            $('.menu').append("<h4 class=\"menu_title\">" + results[i].name + "</h4><br>");

            for (var j = 0; j < results[i]._meals.length; j++) {

              var number = j + 1;

              $('.menu').append("<div class=\"row\"><div class=\"col-md-8 col-sm-8 col-xs-8\"><b>" + number + ". " + results[i]._meals[j].name + "</b></div><div class=\"col-md-4 col-sm-4 col-xs-4 text-right\">" + " $" + results[i]._meals[
                j].price + "</div><div class=\"col-md-12 \">Ingredients: " + results[i]._meals[j].ingredients[0].name + "</div><div class=\"col-md-12 \">Meal type: " + results[i]._meals[j].category + "<br><hr></div></div>");
            }

          }


        }, "json");

        $('.menu').removeClass("columns");
      });




      // MOUSEOVER ON MEAL PHOTO

      $('.menu').on({
        mouseenter: function() {
          event.stopPropagation();
          var id = $(this).attr('id');

          $.get(url + "meals/" + id, function(result) {
            console.log(result);
            $('.result').html("");
            $('.result').append("<div id=\"sticker\"><div class=\"col-md-12\"><br><img src=\"" + result[0].picture + "\" width=\"300px\" alt=\"image\"><br><h2>" + result[0].name + "</h2><p>Category: " + result[0].category +
              "</p><h2>Price: $" + result[0].price + "</h2></div></div>");

          }, "json")
        },

        mouseleave: function() {
          $('.result').html("");

        }
      }, 'img');

    });
  </script>
  <title>Menu Template</title>

</head>

<body>
  <div class="text-center">
    <img src="logo.jpg" id="logo" alt="">
  </div>
  <div class="container" style="padding-left: 0; padding-right: 0;">

    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

        </div>


        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="index.html">All menus</a></li>
            <li><a href="#" id="images">Menu with images</a></li>
            <li><a href="#" id="breakfast">Breakfast</a></li>
            <li><a href="#" id="lunch">Lunch</a></li>
            <li><a href="#" id="dinner">Dinner</a></li>
            <li><a href="#" id="drinks">Drinks</a></li>
            <li><a href="#" id="products">Products</a></li>
            <li><a href="#" id="columns">2 Columns Menu</a></li>
          </ul>

        </div>
        <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
    </nav>


  </div>


  <!-- MENU DISPLAY DIV -->
  <div class="container panel">

    <div class="col-md-6 menu panel-body">

    </div>

    <div class="col-md-4 result">

    </div>

  </div>

</body>

</html>
